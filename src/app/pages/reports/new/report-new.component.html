<div *ngIf="canAccessReports(); else unauthorized">
<div class="report-new" [class.dark]="isDarkMode()">
  <h1>{{ 'reportNew.header' | translate }}</h1>

  <form *ngIf="form" [formGroup]="form">
    <div class="form-section">
      <label>{{ 'reportNew.type' | translate }}:</label>
      <mat-form-field>
        <mat-select formControlName="reportType" placeholder="Report Type">
          <mat-option value=""></mat-option>
          <mat-option value="DAILY">{{ 'reportNew.daily' | translate }}</mat-option>
          <mat-option value="WEEKLY">{{ 'reportNew.weekly' | translate }}</mat-option>
          <mat-option value="MONTHLY">{{ 'reportNew.monthly' | translate }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="form-section">
      <h4>{{ 'reportNew.template' | translate }}:</h4>
      <div class="form-email-container">
        <crh-crh-email-template-card
          *ngFor="let template of email_templates"
          template_type={{template}}
          (choosen_template)="set_email_template($event)"
          selected_email_template="{{choosen_email_template}}">
        </crh-crh-email-template-card>
      </div>
    </div>

    <div class="form-actions">
      <button type="button" (click)="cancel()">
        {{ 'common.cancel' | translate }}
      </button>
      <button type="submit" (click)="next()">
        {{ 'common.next' | translate }}
      </button>
    </div>
  </form>
</div>
</div>

<ng-template #unauthorized>
  <p>You do not have permission to access this page.</p>
</ng-template>
