@use 'cyber-report-hub-base-theme' as base-theme;
@use 'theme-utils/theme-generator' as theme-generator;
@use '@angular/material' as mat;
@use 'style-utils' as util;

@import '@angular/cdk/overlay-prebuilt.css';

// ======== ORIGINAL LIGHT THEME (KEEPING IT) ========

body {
  @include theme-generator.setup-theme(base-theme.$theme);
  @include mat.core();
  @include mat.all-component-themes(util.$default-mat-theme);
  margin: 0;
  transition:
    background-color 0.3s,
    color 0.3s;
}

// ======== DARK MODE OVERRIDES (MANUAL CONTROL) ========
// This overrides Material's theming for dark mode (since Material is problematic in your setup)

body.dark-mode {
  background-color: #121212;
  color: #e0e0e0;

  // Override navbar, page background, text colors, etc.
  a {
    color: #64b5f6;
  }

  button {
    background-color: #333;
    color: #f5f5f5;
    border: 1px solid #555;

    &:hover {
      background-color: #555;
    }
  }

  table {
    background-color: #1e1e1e;
    color: #e0e0e0;

    th,
    td {
      border: 1px solid #555;
    }
  }

  input,
  select,
  textarea {
    background-color: #1e1e1e;
    color: #e0e0e0;
    border: 1px solid #555;
  }

  // Optional: If your custom components have "box" classes or containers
  .box {
    background-color: #1e1e1e;
    color: #e0e0e0;
    border: 1px solid #555;
  }

  // If you have a header or navbar wrapper, make it dark-friendly
  nav {
    background-color: #181818;
    color: #ffffff;
    border-bottom: 1px solid #444;
  }
}

// ======== MATERIAL OVERRIDES (KEEP THIS) ========
.cdk-overlay-container {
  // Mat Options
  mat-option {
    --mat-option-label-text-font: var(--crh-paragraph-family);
    --mat-option-label-text-weight: var(--crh-paragraph-weight);
  }

  // Mat Datepicker
  mat-datepicker-content {
    --mat-datepicker-calendar-date-selected-state-background-color: var(
      --crh-primary-color
    );
    --mat-datepicker-calendar-date-today-outline-color: var(
      --crh-primary-color
    );
    --mat-datepicker-calendar-date-preview-state-outline-color: var(
      --crh-primary-color
    );

    .mat-calendar-body-cell:focus .mat-focus-indicator::before {
      content: unset;
    }

    .cdk-visually-hidden {
      display: none;
    }
  }
}
